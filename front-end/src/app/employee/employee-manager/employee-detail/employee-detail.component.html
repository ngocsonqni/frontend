<img id="user-icon"
     src="data:image/png;base64,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">
<strong>Thông tin cá nhân</strong>
<hr>
<br><br><br>
<div class="row">
  <div class="col-md-5" style="">
    <div class="left-unit">
      <div class="row">
        <mat-card class="mat-card-img"
                  (click)="selectFile()">
          <img class="imageEmp" id="avatar" src="{{employee['image']}}" onerror="this.src = 'https://firebasestorage.googleapis.com/v0/b/webapp-1b736.appspot.com/o/58hvov18b5f?alt=media&token=bd216998-70e7-4c1b-9127-9cc1b1127278' ">
          <input formControlName="id" readonly hidden>
          <input class="file-upload-input" type='file'
                 (change)="readURL($event.target);" accept="image/*"
                 hidden id="image"/>
        </mat-card>
      </div>
      <br>
      <button type="button" class="btn btn-warning" (click)="loadEditForm()" data-toggle="modal"
              data-target="#editModal">
        Thay đổi thông tin
      </button>
      <br>
      <button type="button" class="btn btn-warning" (click)="loadPasswordForm()" data-toggle="modal"
              data-target="#DeleteModal">
        Thay đổi mật khẩu
      </button>
    </div>
  </div>
  <div class="col-md-7">
    <table class="table-nv table ">
      <tr>
        <th>Họ Tên:</th>
        <td>{{employee.name}}</td>
      </tr>
      <tr>
        <th>Giới tính:</th>
        <td>{{employee.gender}}</td>
      </tr>
      <tr>
        <th>Ngày sinh:</th>
        <td>{{employee.birthday | date: 'dd/MM/yyyy'}}</td>
      </tr>
      <tr>
        <th>Địa chỉ:</th>
        <td>{{employee.address}}</td>
      </tr>
      <tr>
        <th>Chức vụ:</th>
        <td>{{employee.position['name']}}</td>
      </tr>
      <tr>
        <th>Phòng ban:</th>
        <td>{{employee.department['name']}}</td>
      </tr>
      <tr>
        <th>Số điện thoại:</th>
        <td>{{employee.phoneNumber}}</td>
      </tr>
      <tr>
        <th>Email:</th>
        <td>{{employee.email}}</td>
      </tr>
    </table>
  </div>
</div>

<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title modal-titles header-inf" id="editModalLabel">Chỉnh sửa thông tin cá nhân</h4>
        <button type="button" class="close " data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="onSubmit1()" [formGroup]="editForm">

          <!--          <div class="customer-input-outside form-group">-->
          <!--            <input class="global-content-popup-input customer-input form-control" id="name1" formControlName="name"-->
          <!--                   type="text"-->
          <!--                   placeholder="Ten khach hang"/>-->
          <!--            <label class="global-content-popup-icon" for="name1"><i class="fa fa-user-o"></i></label>-->
          <!--          </div>-->
          <div class="row">
            <label>Họ tên (*) <input type="text" class="form-control" formControlName="name">
            </label>
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="editForm.get('name').hasError('required') && editForm.get('name').touched">
            Tên không được để trống !
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="editForm.get('name').hasError('pattern') && editForm.get('name').touched">
            Tên sai cú pháp !
          </div>
          <mat-error class="error-message">
            {{listError.name}}
          </mat-error>
          <div class="row">
            <label>
              Giới tính (*) &nbsp;&nbsp;<input type="radio" value="Nam" name="gender" formControlName="gender">Nam&nbsp;&nbsp;
              <input type="radio" value="Nữ" name="gender" formControlName="gender">Nữ
            </label>
          </div>
          <div class="row">
            <label>Ngày sinh (*)<br>
              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Choose a date</mat-label>
                <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="picker" formControlName="birthday">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </label>
          </div>
          <div class="row">
            <label>Số điện thoại (*) <input type="text" class="form-control"  formControlName="phoneNumber">
            </label>
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="editForm.get('phoneNumber').hasError('required') && editForm.get('phoneNumber').touched">
            Số điện thoại không được để trống !
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="editForm.get('phoneNumber').hasError('pattern') && editForm.get('phoneNumber').touched">
            Số điện thoại bắt đầu bằng +84 theo sau 9 hoặc 10 chữ số
          </div>
          <mat-error class="error-message">
            {{listError.phoneNumber}}
          </mat-error>
          <div class="row">
            <label>Email (*) <input type="text" class="form-control"  formControlName="email">
            </label>
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="editForm.get('email').hasError('required') && editForm.get('email').touched">
            Email không được để trống
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="editForm.get('email').hasError('pattern') && editForm.get('email').touched">
            Email sai cú pháp !
          </div>
          <mat-error class="error-message">
            {{listError.email}}
          </mat-error>
          <div class="row">
            <label>Địa chỉ (*) <input type="text" class="form-control"  formControlName="address">
            </label>
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="editForm.get('address').hasError('pattern') && editForm.get('address').touched">
            Địa chỉ sai cú pháp !
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="editForm.get('address').hasError('required') && editForm.get('address').touched">
            Địa chỉ không đc để trống !
          </div>
          <mat-error class="error-message">
            {{listError.address}}
          </mat-error>

          <fieldset formGroupName="position">
            <label>Chức vụ (*)
              <select class="form-control col-form-label" formControlName="id">
                <option *ngFor="let position of positionList" [ngValue]="position.id"
                        [selected]="position.id === editForm.value.position.id">
                  {{position.name}}
                </option>
              </select>
            </label>
          </fieldset>

          <!--          <div class="row">-->
          <!--            <label>Chức vụ (*)-->
          <!--              <select class="form-control" formControlName="position">-->
          <!--                <ng-container *ngFor="let position of positionList">-->
          <!--                  <option [value]="position.name">{{position.name}}-->
          <!--                  </option>-->
          <!--                </ng-container>-->
          <!--              </select>-->
          <!--            </label>-->
          <!--          </div>-->
          <fieldset formGroupName="department">
            <label>Phòng ban (*)
              <select class="form-control col-form-label" formControlName="id">
                <option *ngFor="let department of departmentList" [ngValue]="department.id"
                        [selected]="department.id === editForm.value.department.id">
                  {{department.name}}
                </option>
              </select>
            </label>
          </fieldset>

          <!--          <div class="row">-->
          <!--            <label>Phòng ban (*)-->
          <!--              <select class="form-control" formControlName="department" >-->
          <!--                <option *ngFor="let department of departmentList" [value]="department['name']">{{department['name']}}</option>-->
          <!--              </select>-->
          <!--            </label>-->
          <!--          </div>-->

          <button id="edit-em" type="button" class="btn btn-secondary " data-dismiss="modal">Hủy</button>
          <div>
            <button type="submit" class="btn btn-success edit-customer-btn1">Sửa</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="DeleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title modal-titles header-dmk" id="deleteModalLabel">Đổi mật khẩu</h4>
        <button type="button" class="close " data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="onSubmit2()" [formGroup]="editPasswordForm">
          <div class="row">
            <label>Mật khẩu cũ (*) <input type="password" class="form-control"  formControlName="oldPassword">
            </label>
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="editPasswordForm.get('oldPassword').hasError('required') && editPasswordForm.get('oldPassword').touched">
            Không được để trống !
          </div>
          <fieldset formGroupName="pwGroup">
            <div class="row">
              <label>Mật khẩu mới (*) <input type="password" class="form-control"  formControlName="password">
              </label>
            </div>
            <div class="alert alert-danger" role="alert" *ngIf="editPasswordForm.get('pwGroup.password').hasError('required') && editPasswordForm.get('pwGroup.password').touched"  >
              Không được để trống
            </div>
            <div class="alert alert-danger" role="alert" *ngIf="editPasswordForm.get('pwGroup.password').hasError('minlength') && editPasswordForm.get('pwGroup.password').touched">
              Mật khẩu yêu cầu ít nhất 6 kí tự !
            </div>
            <div class="alert alert-danger" role="alert" *ngIf="editPasswordForm.get('pwGroup.password').hasError('pattern') && editPasswordForm.get('pwGroup.password').touched">
              Chỉ chứa chữ và số không được chứa kí tự đặc biệt !
            </div>
            <div class="row">
              <label>Xác nhận lại (*) <input type="password" class="form-control"  formControlName="confirmPassword">
              </label>
            </div>
          </fieldset>
          <div class="alert alert-danger" role="alert" *ngIf="editPasswordForm.hasError('passwordnotmatch', ['pwGroup']) &&
      editPasswordForm.get('pwGroup').touched && editPasswordForm.get('pwGroup.confirmPassword').touched ">
            Mật khẩu và xác nhận chưa trùng nhau!
          </div>
          <button id="huy-2" type="button" class="btn btn-secondary " data-dismiss="modal">Hủy</button>
          <button type="submit" class="btn btn-success edit-customer-btn1">Xác nhận</button>
        </form>
      </div>
    </div>
  </div>
</div>
